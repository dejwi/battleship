(()=>{"use strict";var t={111:(t,e,r)=>{r.d(e,{Z:()=>c});var n=r(81),o=r.n(n),a=r(645),i=r.n(a)()(o());i.push([t.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@200;300;400;500;700&display=swap);"]),i.push([t.id,'*,*:before,*:after{box-sizing:border-box}*{font-size:62.5%;font-family:"Roboto",sans-serif}html,body{margin:0;width:100vw;height:100vh}.maincont{background:#eeede7;display:flex;flex-direction:column;align-items:center;justify-content:center;width:100%;height:100%}.maincont>span{font-size:2.5rem;font-weight:200}.maincont main{display:flex;gap:20rem}.maincont main>div{display:flex;flex-direction:column;align-items:center;justify-content:center}.maincont main .rotate{font-size:3.5rem;padding:.5rem 3rem;border-radius:6px;margin-bottom:.5rem;width:max-content;text-align:center;background:#f5b6b657;cursor:pointer;color:#292929}.maincont main .rotate.hide{visibility:hidden}.maincont>h2{font-size:4rem;margin:-0.5rem 0 2rem 0}.maincont.blur{filter:blur(3px)}.maincont>a{position:absolute;bottom:5px;font-size:2rem;color:#292929;text-decoration:none;cursor:pointer}.gameEnd{position:absolute;top:0;width:100%;height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center;background-color:rgba(0,0,0,.322)}.gameEnd div{font-size:7rem;font-weight:600;color:#f05e67;text-shadow:2px 2px 3px #c03838;margin-top:-8%}.gameEnd button{border:none;cursor:pointer;padding:.5rem 2rem;background-color:#405cf5;color:#fff;font-size:1.8rem;border-radius:6px;margin-top:-0.5rem;box-shadow:rgba(50,50,93,.1) 0 0 0 1px inset,rgba(50,50,93,.1) 0 2px 5px 0,rgba(0,0,0,.07) 0 1px 1px 0;transition:transform .2s ease-in-out;transition:filter .2s ease-in-out}.gameEnd button:hover{transform:scale(1.05);filter:brightness(110%)}.gameEnd.hidden{visibility:hidden}.gameboard{width:40rem;height:40rem;display:grid;grid-template-columns:repeat(10, 1fr);grid-template-rows:repeat(10, 1fr);gap:.5%}.gameboard div{background:rgba(231,210,204,.41);border:1px solid #737373;border-radius:4px}.gameboard div.hoverfit{background:rgba(228,161,142,.41)}.gameboard div.hovernofit{background:rgba(245,28,28,.41)}.gameboard div.pship{background:#08397a54}.gameboard div.hit{background:rgba(248,0,0,.664)}.gameboard div.miss{background:gray}.gameboard div.sunk{background:rgba(151,1,1,.849)}.gameboard.enemy.started div{transition:.2s ease-in-out}.gameboard.enemy.started div:hover{transform:scale(1.1);filter:brightness(80%)}',""]);const c=i},645:t=>{t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var r="",n=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),n&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=t(e),n&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(t,r,n,o,a){"string"==typeof t&&(t=[[null,t,void 0]]);var i={};if(n)for(var c=0;c<this.length;c++){var s=this[c][0];null!=s&&(i[s]=!0)}for(var u=0;u<t.length;u++){var d=[].concat(t[u]);n&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),r&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=r):d[2]=r),o&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=o):d[4]="".concat(o)),e.push(d))}},e}},81:t=>{t.exports=function(t){return t[1]}},379:t=>{var e=[];function r(t){for(var r=-1,n=0;n<e.length;n++)if(e[n].identifier===t){r=n;break}return r}function n(t,n){for(var a={},i=[],c=0;c<t.length;c++){var s=t[c],u=n.base?s[0]+n.base:s[0],d=a[u]||0,l="".concat(u," ").concat(d);a[u]=d+1;var f=r(l),m={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==f)e[f].references++,e[f].updater(m);else{var v=o(m,n);n.byIndex=c,e.splice(c,0,{identifier:l,updater:v,references:1})}i.push(l)}return i}function o(t,e){var r=e.domAPI(e);return r.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;r.update(t=e)}else r.remove()}}t.exports=function(t,o){var a=n(t=t||[],o=o||{});return function(t){t=t||[];for(var i=0;i<a.length;i++){var c=r(a[i]);e[c].references--}for(var s=n(t,o),u=0;u<a.length;u++){var d=r(a[u]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=s}}},569:t=>{var e={};t.exports=function(t,r){var n=function(t){if(void 0===e[t]){var r=document.querySelector(t);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(t){r=null}e[t]=r}return e[t]}(t);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(r)}},216:t=>{t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:(t,e,r)=>{t.exports=function(t){var e=r.nc;e&&t.setAttribute("nonce",e)}},795:t=>{t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(r){!function(t,e,r){var n="";r.supports&&(n+="@supports (".concat(r.supports,") {")),r.media&&(n+="@media ".concat(r.media," {"));var o=void 0!==r.layer;o&&(n+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),n+=r.css,o&&(n+="}"),r.media&&(n+="}"),r.supports&&(n+="}");var a=r.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,t,e.options)}(e,t,r)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:t=>{t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,exports:{}};return t[n](a,a.exports,r),a.exports}r.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return r.d(e,{a:e}),e},r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{var t=r(379),e=r.n(t),n=r(795),o=r.n(n),a=r(569),i=r.n(a),c=r(565),s=r.n(c),u=r(216),d=r.n(u),l=r(589),f=r.n(l),m=r(111),v={};v.styleTagTransform=f(),v.setAttributes=s(),v.insert=i().bind(null,"head"),v.domAPI=o(),v.insertStyleElement=d(),e()(m.Z,v),m.Z&&m.Z.locals&&m.Z.locals;var h,p,g,y,b,x=function(){document.querySelectorAll(".hoverfit").forEach((function(t){return t.classList.remove("hoverfit")})),document.querySelectorAll(".hovernofit").forEach((function(t){return t.classList.remove("hovernofit")}))},k=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=r?"x":"y";return{check:+e.getAttribute("data-".concat(n))+t<=10,renderSize:10-+e.getAttribute("data-".concat(n))<t?10-+e.getAttribute("data-".concat(n)):t}},S=function(t,e,r){var n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=r?"hoverfit":"hovernofit";o&&(a="pship");for(var i={x:e.getAttribute("data-x"),y:e.getAttribute("data-y")},c=0;c<t;c++){var s=document.querySelector('.player div[data-x="'.concat(+i.x+(n?c:0),'"][data-y="').concat(+i.y+(n?0:c),'"]'));s.classList.value.includes("pship")||(s.classList=a)}},L=function(t,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={x:+e.getAttribute("data-x")-1,y:+e.getAttribute("data-y")-1};if(r)for(var o=0;o<3;o++)for(var a=0;a<t+2;a++){var i=document.querySelector('.player div[data-x="'.concat(a+n.x,'"]')+'[data-y="'.concat(o+n.y,'"]'));if(i&&i.classList.value.includes("pship"))return!0}else for(var c=0;c<t+2;c++)for(var s=0;s<3;s++){var u=document.querySelector('.player div[data-x="'.concat(s+n.x,'"]')+'[data-y="'.concat(c+n.y,'"]'));if(u&&u.classList.value.includes("pship"))return!0}return!1},E=function(t,e){if(t.isHorizontal)for(var r=0;r<t.length;r++)document.querySelector(".".concat(e,' div[data-x="').concat(t.x+r,'"][data-y="').concat(t.y,'"]')).classList="sunk";else for(var n=0;n<t.length;n++)document.querySelector(".".concat(e,' div[data-x="').concat(t.x,'"][data-y="').concat(t.y+n,'"]')).className="sunk"},w=function(t,e,r,n){var o=t,a=0;return{length:o,startPos:{x:e,y:r},hitCount:a,isSunk:function(){return a>=o},isHorizontal:n,hit:function(){a+=1}}},M=function(){var t=[],e=[],r=[];return{shipPlace:function(t){r.push(t)},reciveAttack:function(n,o){var a,i,c=(a=n,i=o,r.filter((function(t){return t.isHorizontal?t.startPos.x+t.length>a&&t.startPos.x<=a&&t.startPos.y===i:t.startPos.y+t.length>i&&t.startPos.y<=i&&t.startPos.x===a}))[0]);if(c){c.hit();var s=c.isSunk();return s&&t.push({x:c.startPos.x,y:c.startPos.y,length:c.length,isHorizontal:c.isHorizontal}),e.push({x:n,y:o,isHit:!0,isSunk:s}),"hit"}return e.push({x:n,y:o,isHit:!1,isSunk:!1}),"miss"},getSunk:function(){return t},ships:r,checkLoss:function(){return r.every((function(t){return t.isSunk()}))}}},q=[4,3,3,2,2,2,1,1,1,1],A=[],P=(h=function(t){if(!(t<0||t>99)){var e=t%10,r=Math.floor(t/10);e>9||r>9||A.push(t)}},function t(e){var r;do{r=Math.floor(100*Math.random())}while(A.some((function(t){return t>=r&&t<=r+e})));if(r%10+e-1>9)return t(e);for(var n=r-1;n<r+e+1;n++)h(n-10),h(n),h(n+10);return r}),z=function t(e){function r(t){for(var r=t;r<t+10*e;r+=10)if(A.includes(r))return!0;return!1}var n;do{n=Math.floor(100*Math.random())}while(r(n));if(Math.floor(n/10)+e-1>9)return t(e);for(var o=n-10;o<n+10*e+10;o+=10)h(o-1),h(o),h(o+1);return n},C=void 0,T=[4,3,3,2,2,2,1,1,1,1],H=M(),I=(p=function(){var t=M();return A=[],q.forEach((function(e){if(Math.random()<.5){var r=P(e);t.shipPlace(w(e,r%10,Math.floor(r/10),!0))}else{var n=z(e);t.shipPlace(w(e,n%10,Math.floor(n/10),!1))}})),t}(),g=[],y=null,b=null,{board:p,getMove:function(){if(!y)return function(){var t;do{t=Math.floor(100*Math.random())}while(g.includes(t));return g.push(t),{x:t%10,y:Math.floor(t/10)}}();var t=[];null===b?t=[1,-1,10,-10]:b?t=[1,-1]:b||(t=[10,-10]);for(var e=null,r=function(r){var n=y[y.length-r].x+10*y[y.length-r].y;if(t.forEach((function(t){!g.includes(n+t)&&n+t>=0&&n+t<=99&&(e=n+t)})),e)return"break"},n=1;n<10&&"break"!==r(n);n++);return g.push(e),{x:e%10,y:Math.floor(e/10)}},updateInfo:function(t,e){var r,n;"sunk"===t?(r=e,n=function(t){for(var e=t.x+10*t.y,r=[0,-10,10],n=function(t){r.forEach((function(r){g.includes(e-1+t+r)||g.push(e-1+t+r)}))},o=0;o<3;o++)n(o)},y?y.forEach(n):n(r),y=null,b=null):"hit"===t&&(y||(y=[]),y.push(e),y.length>=2&&null===b&&(b=!1,y[y.length-1].y===y[y.length-2].y&&(b=!0)))}}),j=document.querySelector(".maincont>h2"),N=function(){var t=function(){document.querySelector(".maincont").classList.add("blur"),document.querySelector(".gameEnd").classList.remove("hidden")},e=document.querySelector(".gameEnd .info");return H.checkLoss()?(e.textContent="You lost:(",t(),!0):!!I.board.checkLoss()&&(e.textContent="You won!",t(),!0)},Z=!0;(function(){var t=0,e=!0;document.querySelector(".rotate").addEventListener("click",(function(){e=!e})),document.querySelector(".player").addEventListener("mouseover",(function(r){Z?r.target.classList.value.includes("gameboard")||function(t,e,r){var n=k(t,e,r),o=!L(t,e,r)&&n.check;S(n.renderSize,e,o,r),e.addEventListener("mouseout",x)}(T[t],r.target,e):document.querySelector(".player").removeEventListener("mouseover",C)})),document.querySelector(".player").addEventListener("click",(function(r){Z?r.target.classList.value.includes("gameboard")||!L(T[t],r.target,e)&&k(T[t],r.target,e).check&&(S(T[t],r.target,!0,e,!0),H.shipPlace(w(T[t],+r.target.getAttribute("data-x"),+r.target.getAttribute("data-y"),e)),++t>=T.length&&(Z=!1,document.querySelector(".rotate").classList.add("hide"),function(){j.textContent="Attack and play!";var t=H;document.querySelector(".enemy").addEventListener("click",(function(e){if(t===H&&!e.target.classList.value.includes("gameboard")){if(e.target.classList.value)return;var r=+e.target.getAttribute("data-x"),n=+e.target.getAttribute("data-y"),o=I.board.getSunk(),a=o.length;if(e.target.classList=I.board.reciveAttack(r,n),o.length!==a&&E(o[o.length-1],"enemy"),N())return;t=I,setTimeout((function(){var e=H.getSunk(),r=e.length,n=I.getMove(),o=H.reciveAttack(n.x,n.y);document.querySelector('.player div[data-x="'.concat(n.x,'"][data-y="').concat(n.y,'"]')).classList=o,e.length!==r?(E(e[e.length-1],"player"),I.updateInfo("sunk",n)):I.updateInfo(o,n),N()||setTimeout((function(){t=H}),250)}),300)}}))}(),document.querySelector(".enemy").classList.add("started"))):document.querySelector(".player").removeEventListener("click",C)}))})(),document.querySelector(".gameEnd button").addEventListener("click",(function(){window.location.reload(!0)}))})()})();